{"version":3,"sources":["../../src/js/config.js"],"names":["codeFlaskSucksHighlight","editor","hljs","highlightBlock","elCode","classList","clazz","startsWith","remove","setUpEditor","el","div","document","createElement","style","height","CodeSass","defaultTheme","lineNumbers","language","elTextarea","name","background","padding","setHighlightCallback","updateCode","getAttribute","createLineNumbers","insertAdjacentElement","querySelector"],"mappings":";;AAAA;AAEA,CAAC,YAAW;AACV,WAASA,uBAAT,CAAiCC,MAAjC,EAAyC;AACvCC,IAAAA,IAAI,CAACC,cAAL,CAAoBF,MAAM,CAACG,MAA3B,EADuC,CAEvC;;AAFuC;AAAA;AAAA;;AAAA;AAGvC,2BAAoBH,MAAM,CAACG,MAAP,CAAcC,SAAlC,8HAA6C;AAAA,YAAlCC,KAAkC;;AAC3C,YAAIA,KAAK,KAAK,MAAV,IAAoBA,KAAK,KAAK,iBAA9B,IAAmD,CAACA,KAAK,CAACC,UAAN,CAAiB,WAAjB,CAAxD,EAAuF;AACrFN,UAAAA,MAAM,CAACG,MAAP,CAAcC,SAAd,CAAwBG,MAAxB,CAA+BF,KAA/B;AACD;AACF;AAPsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQxC;AAED;;;;;;;AAKA,WAASG,WAAT,CAAqBC,EAArB,EAAyB;AACvB,QAAMC,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAZ;AAEAF,IAAAA,GAAG,CAACG,KAAJ,CAAUC,MAAV,GAAmB,OAAnB;AAEA,QAAMd,MAAM,GAAG,IAAIe,QAAJ,CAAaL,GAAb,EAAkB;AAC/BM,MAAAA,YAAY,EAAE,KADiB;AAE/BC,MAAAA,WAAW,EAAE,IAFkB;AAG/BC,MAAAA,QAAQ,EAAE;AAHqB,KAAlB,CAAf;AAMAlB,IAAAA,MAAM,CAACmB,UAAP,CAAkBC,IAAlB,GAAyBX,EAAE,CAACW,IAA5B;AAEApB,IAAAA,MAAM,CAACG,MAAP,CAAcU,KAAd,CAAoBQ,UAApB,GAAiC,MAAjC;AACArB,IAAAA,MAAM,CAACG,MAAP,CAAcU,KAAd,CAAoBS,OAApB,GAA8B,GAA9B;AAEAtB,IAAAA,MAAM,CAACuB,oBAAP,CAA4BxB,uBAA5B;AAEAC,IAAAA,MAAM,CAACwB,UAAP,CAAkBf,EAAE,CAACgB,YAAH,CAAgB,OAAhB,CAAlB;AACAzB,IAAAA,MAAM,CAAC0B,iBAAP,GAnBuB,CAmBK;;AAE5BjB,IAAAA,EAAE,CAACkB,qBAAH,CAAyB,aAAzB,EAAwCjB,GAAxC;AACAD,IAAAA,EAAE,CAACF,MAAH;AACD;;AAEDC,EAAAA,WAAW,CAACG,QAAQ,CAACiB,aAAT,CAAuB,yBAAvB,CAAD,CAAX;AACD,CA1CD","sourcesContent":["/* global hljs:false, CodeSass:false */\n\n(function() {\n  function codeFlaskSucksHighlight(editor) {\n    hljs.highlightBlock(editor.elCode);\n    // remove the extra classes hljs adds without asking\n    for (const clazz of editor.elCode.classList) {\n      if (clazz !== 'hljs' && clazz !== 'codeflask__code' && !clazz.startsWith('language-')) {\n        editor.elCode.classList.remove(clazz);\n      }\n    }\n  }\n\n  /**\n   * Create an editor.\n   *\n   * @param {HTMLElement} el The element to convert into an editor.\n   */\n  function setUpEditor(el) {\n    const div = document.createElement('div');\n\n    div.style.height = '400px';\n\n    const editor = new CodeSass(div, {\n      defaultTheme: false,\n      lineNumbers: true,\n      language: 'toml',\n    });\n\n    editor.elTextarea.name = el.name;\n\n    editor.elCode.style.background = 'none';\n    editor.elCode.style.padding = '0';\n\n    editor.setHighlightCallback(codeFlaskSucksHighlight);\n\n    editor.updateCode(el.getAttribute('value'));\n    editor.createLineNumbers(); // TODO: fix this in codesass\n\n    el.insertAdjacentElement('beforebegin', div);\n    el.remove();\n  }\n\n  setUpEditor(document.querySelector('textarea[name = config]'));\n})();\n"],"file":"config.js"}