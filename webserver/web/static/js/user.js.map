{"version":3,"sources":["../../src/js/user.js"],"names":["getCheckboxes","document","getElementsByName","buttonVisibilityCheck","button","getElementById","some","x","checked","classList","remove","add","getPastesToDelete","filter","map","dataset","pasteId","addInput","form","input","createElement","type","name","value","JSON","stringify","appendChild","forEach","addEventListener"],"mappings":";;;;AAAA,CAAC,YAAW;AACV,WAASA,aAAT,GAAyB;AACvB,WAAOC,SAASC,iBAAT,CAA2B,cAA3B,CAAP;AACD;;AAED,WAASC,qBAAT,GAAiC;AAC/B,QAAMC,SAASH,SAASI,cAAT,CAAwB,eAAxB,CAAf;AACA,QAAID,WAAW,IAAf,EAAqB;AACnB;AACD;;AAED,QAAI,6BAAIJ,eAAJ,GAAqBM,IAArB,CAA0B;AAAA,aAAKC,EAAEC,OAAP;AAAA,KAA1B,CAAJ,EAA+C;AAC7CJ,aAAOK,SAAP,CAAiBC,MAAjB,CAAwB,WAAxB;AACD,KAFD,MAEO;AACLN,aAAOK,SAAP,CAAiBE,GAAjB,CAAqB,WAArB;AACD;AACF;;AAED,WAASC,iBAAT,GAA6B;AAC3B,WAAO,6BAAIZ,eAAJ,GACJa,MADI,CACG;AAAA,aAAKN,EAAEC,OAAP;AAAA,KADH,EAEJM,GAFI,CAEA;AAAA,aAAKP,EAAEQ,OAAF,CAAUC,OAAf;AAAA,KAFA,CAAP;AAGD;;AAED,WAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,QAAMC,QAAQlB,SAASmB,aAAT,CAAuB,OAAvB,CAAd;AACAD,UAAME,IAAN,GAAa,QAAb;AACAF,UAAMG,IAAN,GAAa,KAAb;AACAH,UAAMI,KAAN,GAAcC,KAAKC,SAAL,CAAeb,mBAAf,CAAd;;AAEAM,SAAKQ,WAAL,CAAiBP,KAAjB;AACD;;AAED,GAAC,YAAW;AACVnB,oBAAgB2B,OAAhB,CAAwB;AAAA,aAAKpB,EAAEqB,gBAAF,CAAmB,QAAnB,EAA6BzB,qBAA7B,CAAL;AAAA,KAAxB;;AAEA,QAAMe,OAAOjB,SAASI,cAAT,CAAwB,eAAxB,CAAb;AACA,QAAIa,SAAS,IAAb,EAAmB;AACjBA,WAAKU,gBAAL,CAAsB,QAAtB,EAAgC;AAAA,eAAMX,SAASC,IAAT,CAAN;AAAA,OAAhC;AACD;AACF,GAPD;AAQD,CAzCD","file":"user.js","sourcesContent":["(function() {\n  function getCheckboxes() {\n    return document.getElementsByName('paste-delete');\n  }\n\n  function buttonVisibilityCheck() {\n    const button = document.getElementById('delete-button');\n    if (button === null) {\n      return;\n    }\n\n    if ([...getCheckboxes()].some(x => x.checked)) {\n      button.classList.remove('is-hidden');\n    } else {\n      button.classList.add('is-hidden');\n    }\n  }\n\n  function getPastesToDelete() {\n    return [...getCheckboxes()]\n      .filter(x => x.checked)\n      .map(x => x.dataset.pasteId);\n  }\n\n  function addInput(form) {\n    const input = document.createElement('input');\n    input.type = 'hidden';\n    input.name = 'ids';\n    input.value = JSON.stringify(getPastesToDelete());\n\n    form.appendChild(input);\n  }\n\n  (function() {\n    getCheckboxes().forEach(x => x.addEventListener('change', buttonVisibilityCheck));\n\n    const form = document.getElementById('deletion_form');\n    if (form !== null) {\n      form.addEventListener('submit', () => addInput(form));\n    }\n  })();\n})();\n"]}