{"version":3,"sources":["../../src/js/user.js"],"names":["getCheckboxes","document","getElementsByName","buttonVisibilityCheck","button","getElementById","some","x","checked","classList","remove","add","getPastesToDelete","filter","map","dataset","pasteId","addInput","form","input","createElement","type","name","value","JSON","stringify","appendChild","forEach","addEventListener","allCheckboxes","on","querySelectorAll","e","selectAll","selectNone"],"mappings":";;;;;;;;;;AAAA,CAAC,YAAW;AACV,WAASA,aAAT,GAAyB;AACvB,WAAOC,QAAQ,CAACC,iBAAT,CAA2B,cAA3B,CAAP;AACD;;AAED,WAASC,qBAAT,GAAiC;AAC/B,QAAMC,MAAM,GAAGH,QAAQ,CAACI,cAAT,CAAwB,eAAxB,CAAf;;AACA,QAAID,MAAM,KAAK,IAAf,EAAqB;AACnB;AACD;;AAED,QAAI,mBAAIJ,aAAa,EAAjB,EAAqBM,IAArB,CAA0B,UAAAC,CAAC;AAAA,aAAIA,CAAC,CAACC,OAAN;AAAA,KAA3B,CAAJ,EAA+C;AAC7CJ,MAAAA,MAAM,CAACK,SAAP,CAAiBC,MAAjB,CAAwB,WAAxB;AACD,KAFD,MAEO;AACLN,MAAAA,MAAM,CAACK,SAAP,CAAiBE,GAAjB,CAAqB,WAArB;AACD;AACF;;AAED,WAASC,iBAAT,GAA6B;AAC3B,WAAO,mBAAIZ,aAAa,EAAjB,EACJa,MADI,CACG,UAAAN,CAAC;AAAA,aAAIA,CAAC,CAACC,OAAN;AAAA,KADJ,EAEJM,GAFI,CAEA,UAAAP,CAAC;AAAA,aAAIA,CAAC,CAACQ,OAAF,CAAUC,OAAd;AAAA,KAFD,CAAP;AAGD;;AAED,WAASC,QAAT,CAAkBC,IAAlB,EAAwB;AACtB,QAAMC,KAAK,GAAGlB,QAAQ,CAACmB,aAAT,CAAuB,OAAvB,CAAd;AACAD,IAAAA,KAAK,CAACE,IAAN,GAAa,QAAb;AACAF,IAAAA,KAAK,CAACG,IAAN,GAAa,KAAb;AACAH,IAAAA,KAAK,CAACI,KAAN,GAAcC,IAAI,CAACC,SAAL,CAAeb,iBAAiB,EAAhC,CAAd;AAEAM,IAAAA,IAAI,CAACQ,WAAL,CAAiBP,KAAjB;AACD;;AAED,GAAC,YAAW;AACVnB,IAAAA,aAAa,GAAG2B,OAAhB,CAAwB,UAAApB,CAAC;AAAA,aAAIA,CAAC,CAACqB,gBAAF,CAAmB,QAAnB,EAA6BzB,qBAA7B,CAAJ;AAAA,KAAzB;AAEA,QAAMe,IAAI,GAAGjB,QAAQ,CAACI,cAAT,CAAwB,eAAxB,CAAb;;AACA,QAAIa,IAAI,KAAK,IAAb,EAAmB;AACjBA,MAAAA,IAAI,CAACU,gBAAL,CAAsB,QAAtB,EAAgC;AAAA,eAAMX,QAAQ,CAACC,IAAD,CAAd;AAAA,OAAhC;AACD;AACF,GAPD;;AASA,WAASW,aAAT,CAAuBC,EAAvB,EAA2B;AACzB7B,IAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,sBAA1B,EAAkDJ,OAAlD,CAA0D,UAAAK,CAAC;AAAA,aAAIA,CAAC,CAACxB,OAAF,GAAYsB,EAAhB;AAAA,KAA3D;AACA3B,IAAAA,qBAAqB;AACtB;;AAED,GAAC,YAAW;AACV,QAAM8B,SAAS,GAAGhC,QAAQ,CAACI,cAAT,CAAwB,YAAxB,CAAlB;;AACA,QAAI4B,SAAS,KAAK,IAAlB,EAAwB;AACtBA,MAAAA,SAAS,CAACL,gBAAV,CAA2B,OAA3B,EAAoC;AAAA,eAAMC,aAAa,CAAC,IAAD,CAAnB;AAAA,OAApC;AACD;;AACD,QAAMK,UAAU,GAAGjC,QAAQ,CAACI,cAAT,CAAwB,aAAxB,CAAnB;;AACA,QAAI6B,UAAU,KAAK,IAAnB,EAAyB;AACvBA,MAAAA,UAAU,CAACN,gBAAX,CAA4B,OAA5B,EAAqC;AAAA,eAAMC,aAAa,CAAC,KAAD,CAAnB;AAAA,OAArC;AACD;AACF,GATD;AAUD,CAzDD","sourcesContent":["(function() {\n  function getCheckboxes() {\n    return document.getElementsByName('paste-delete');\n  }\n\n  function buttonVisibilityCheck() {\n    const button = document.getElementById('delete-button');\n    if (button === null) {\n      return;\n    }\n\n    if ([...getCheckboxes()].some(x => x.checked)) {\n      button.classList.remove('is-hidden');\n    } else {\n      button.classList.add('is-hidden');\n    }\n  }\n\n  function getPastesToDelete() {\n    return [...getCheckboxes()]\n      .filter(x => x.checked)\n      .map(x => x.dataset.pasteId);\n  }\n\n  function addInput(form) {\n    const input = document.createElement('input');\n    input.type = 'hidden';\n    input.name = 'ids';\n    input.value = JSON.stringify(getPastesToDelete());\n\n    form.appendChild(input);\n  }\n\n  (function() {\n    getCheckboxes().forEach(x => x.addEventListener('change', buttonVisibilityCheck));\n\n    const form = document.getElementById('deletion_form');\n    if (form !== null) {\n      form.addEventListener('submit', () => addInput(form));\n    }\n  })();\n\n  function allCheckboxes(on) {\n    document.querySelectorAll('input[type=checkbox]').forEach(e => e.checked = on);\n    buttonVisibilityCheck();\n  }\n\n  (function() {\n    const selectAll = document.getElementById('select-all');\n    if (selectAll !== null) {\n      selectAll.addEventListener('click', () => allCheckboxes(true));\n    }\n    const selectNone = document.getElementById('select-none');\n    if (selectNone !== null) {\n      selectNone.addEventListener('click', () => allCheckboxes(false));\n    }\n  })();\n})();\n"],"file":"user.js"}