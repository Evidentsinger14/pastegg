{"version":3,"sources":["../../src/js/style.js"],"names":["setActiveStyleSheet","title","document","getElementsByTagName","a","getAttribute","indexOf","disabled","localStorage","setItem","getActiveStyleSheet","getPreferredStyleSheet","swapTheme","next","loadSheet","style","getItem","window","addEventListener","getElementById"],"mappings":"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","sourcesContent":["(function() {\n  function setActiveStyleSheet(title) {\n    for (const a of document.getElementsByTagName('link')) {\n      if (a.getAttribute('rel').indexOf('style') !== -1 && a.getAttribute('title')) {\n        a.disabled = true;\n        if (a.getAttribute('title') === title) {\n          a.disabled = false;\n        }\n      }\n    }\n    localStorage.setItem('style', getActiveStyleSheet());\n  }\n\n  function getActiveStyleSheet() {\n    for (const a of document.getElementsByTagName('link')) {\n      if (a.getAttribute('rel').indexOf('style') !== -1 && a.getAttribute('title') && !a.disabled) {\n        return a.getAttribute('title');\n      }\n    }\n    return null;\n  }\n\n  function getPreferredStyleSheet() {\n    for (const a of document.getElementsByTagName('link')) {\n      if (a.getAttribute('rel').indexOf('style') !== -1 && a.getAttribute('rel').indexOf('alt') === -1 && a.getAttribute('title')) {\n        return a.getAttribute('title');\n      }\n    }\n    return null;\n  }\n\n  function swapTheme() {\n    let next;\n    if (getActiveStyleSheet() === 'dark') {\n      next = 'light';\n    } else {\n      next = 'dark';\n    }\n    setActiveStyleSheet(next);\n  }\n\n  function loadSheet() {\n    const style = localStorage.getItem('style');\n    const title = style ? style : getPreferredStyleSheet();\n    setActiveStyleSheet(title);\n  }\n\n  window.addEventListener('load', () => {\n    loadSheet();\n\n    document.getElementById('swap_theme').addEventListener('click', swapTheme);\n  });\n\n  window.addEventListener('unload', function() {\n    const title = getActiveStyleSheet();\n    this.localStorage.setItem('style', title);\n  });\n\n  loadSheet();\n})();\n"],"file":"style.js"}