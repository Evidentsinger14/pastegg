{"version":3,"sources":["../../src/js/modal.js"],"names":["convertLinks","document","querySelectorAll","a","button","createElement","attributes","attr","name","setAttribute","value","children","child","appendChild","replaceWith","openModal","e","getElementById","dataset","modalId","classList","add","closeModal","remove","getElementsByClassName","forEach","addEventListener","tagName","toLowerCase"],"mappings":";;;;;;;;;;AAAA,CAAC,YAAW;AACV,WAASA,YAAT,GAAwB;AACtB;AADsB;AAAA;AAAA;;AAAA;AAEtB,2BAAgBC,QAAQ,CAACC,gBAAT,CAA0B,wBAA1B,CAAhB,8HAAqE;AAAA,YAA1DC,CAA0D;AACnE;AACA,YAAMC,MAAM,GAAGH,QAAQ,CAACI,aAAT,CAAuB,QAAvB,CAAf,CAFmE,CAGnE;;AAHmE;AAAA;AAAA;;AAAA;AAInE,gCAAmBF,CAAC,CAACG,UAArB,mIAAiC;AAAA,gBAAtBC,IAAsB;;AAC/B,gBAAIA,IAAI,CAACC,IAAL,KAAc,MAAlB,EAA0B;AACxB;AACD;;AACDJ,YAAAA,MAAM,CAACK,YAAP,CAAoBF,IAAI,CAACC,IAAzB,EAA+BD,IAAI,CAACG,KAApC;AACD,WATkE,CAUnE;;AAVmE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAWnE,gCAAoBP,CAAC,CAACQ,QAAtB,mIAAgC;AAAA,gBAArBC,KAAqB;AAC9BR,YAAAA,MAAM,CAACS,WAAP,CAAmBD,KAAnB;AACD,WAbkE,CAcnE;;AAdmE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAenER,QAAAA,MAAM,CAACK,YAAP,CAAoB,MAApB,EAA4B,QAA5B,EAfmE,CAgBnE;;AACAN,QAAAA,CAAC,CAACW,WAAF,CAAcV,MAAd;AACD;AApBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBvB,GAtBS,CAwBV;;;AACAJ,EAAAA,YAAY;;AAEZ,WAASe,SAAT,CAAmBC,CAAnB,EAAsB;AACpBf,IAAAA,QAAQ,CAACgB,cAAT,CAAwBD,CAAC,CAACE,OAAF,CAAUC,OAAlC,EAA2CC,SAA3C,CAAqDC,GAArD,CAAyD,WAAzD;AACD;;AAED,WAASC,UAAT,CAAoBN,CAApB,EAAuB;AACrBf,IAAAA,QAAQ,CAACgB,cAAT,CAAwBD,CAAC,CAACE,OAAF,CAAUC,OAAlC,EAA2CC,SAA3C,CAAqDG,MAArD,CAA4D,WAA5D;AACD;;AAED,qBAAItB,QAAQ,CAACuB,sBAAT,CAAgC,aAAhC,CAAJ,EAAoDC,OAApD,CAA4D,UAAAT,CAAC,EAAI;AAC/DA,IAAAA,CAAC,CAACU,gBAAF,CAAmB,OAAnB,EAA4B;AAAA,aAAMX,SAAS,CAACC,CAAD,CAAf;AAAA,KAA5B;;AACA,QAAIA,CAAC,CAACW,OAAF,CAAUC,WAAV,OAA4B,QAAhC,EAA0C;AACxCZ,MAAAA,CAAC,CAACP,YAAF,CAAe,MAAf,EAAuB,QAAvB;AACD;AACF,GALD;;AAOA,qBAAIR,QAAQ,CAACuB,sBAAT,CAAgC,cAAhC,CAAJ,EAAqDC,OAArD,CAA6D,UAAAT,CAAC,EAAI;AAChEA,IAAAA,CAAC,CAACU,gBAAF,CAAmB,OAAnB,EAA4B;AAAA,aAAMJ,UAAU,CAACN,CAAD,CAAhB;AAAA,KAA5B;;AACA,QAAIA,CAAC,CAACW,OAAF,CAAUC,WAAV,OAA4B,QAAhC,EAA0C;AACxCZ,MAAAA,CAAC,CAACP,YAAF,CAAe,MAAf,EAAuB,QAAvB;AACD;AACF,GALD;AAMD,CAhDD","sourcesContent":["(function() {\n  function convertLinks() {\n    // the links will all be linked to a modal but have a href\n    for (const a of document.querySelectorAll('a[href][data-modal-id]')) {\n      // create a button\n      const button = document.createElement('button');\n      // copy all attributes but href\n      for (const attr of a.attributes) {\n        if (attr.name === 'href') {\n          continue;\n        }\n        button.setAttribute(attr.name, attr.value);\n      }\n      // fill the button with the link's children\n      for (const child of a.children) {\n        button.appendChild(child);\n      }\n      // make sure not to accidentally submit a form\n      button.setAttribute('type', 'button');\n      // replace the link\n      a.replaceWith(button);\n    }\n  }\n\n  // convert any links that should become modals if JS is enabled\n  convertLinks();\n\n  function openModal(e) {\n    document.getElementById(e.dataset.modalId).classList.add('is-active');\n  }\n\n  function closeModal(e) {\n    document.getElementById(e.dataset.modalId).classList.remove('is-active');\n  }\n\n  [...document.getElementsByClassName('opens-modal')].forEach(e => {\n    e.addEventListener('click', () => openModal(e));\n    if (e.tagName.toLowerCase() === 'button') {\n      e.setAttribute('type', 'button');\n    }\n  });\n\n  [...document.getElementsByClassName('closes-modal')].forEach(e => {\n    e.addEventListener('click', () => closeModal(e));\n    if (e.tagName.toLowerCase() === 'button') {\n      e.setAttribute('type', 'button');\n    }\n  });\n})();\n"],"file":"modal.js"}