{"version":3,"sources":["../../src/js/password.js"],"names":["checkMatch","pw","verify","value","length","classList","add","remove","document","getElementById","addEventListener","doHides","strength","passwordStrength","values","name","push","username","email","password","progress","warning","getAttribute","innerHTML","z","zxcvbn","message","crack_times_display","offline_slow_hashing_1e4_per_second","feedback","color","score"],"mappings":"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","file":"password.js","sourcesContent":["/* global zxcvbn */\n\n(function() {\n  function checkMatch(pw, verify) {\n    if (pw.value === verify.value && pw.value.length !== 0) {\n      verify.classList.add('is-success');\n    } else {\n      verify.classList.remove('is-success');\n    }\n  }\n\n  document\n    .getElementById('password_verify')\n    .addEventListener('input', () => checkMatch(document.getElementById('password'), this));\n\n  function doHides(pw, strength) {\n    if (pw.value.length === 0) {\n      strength.classList.add('is-not-displayed');\n    } else {\n      strength.classList.remove('is-not-displayed');\n    }\n  }\n\n  function passwordStrength(pw) {\n    checkMatch(pw, document.getElementById('password_verify'));\n\n    const values = [];\n    {\n      const name = document.getElementById('name');\n      if (name) {\n        values.push(name.value);\n      }\n      const username = document.getElementById('username');\n      if (username) {\n        values.push(username.value);\n      }\n      const email = document.getElementById('email');\n      if (email) {\n        values.push(email.value);\n      }\n    }\n\n    const password = pw.value;\n    const strength = document.getElementById('strength');\n    const progress = document.getElementById('strength_progress');\n    const warning = document.getElementById('strength_warning');\n\n    if (pw.getAttribute('data-bar') === 'hidden') {\n      doHides(pw, progress);\n    }\n\n    if (password.length === 0) {\n      strength.innerHTML = '';\n      warning.innerHTML = '';\n      progress.classList.add('is-danger');\n      progress.classList.remove('is-warning');\n      progress.classList.remove('is-success');\n      return;\n    }\n\n    const z = zxcvbn(password, values);\n\n    let message = `Time to crack your password: ${z.crack_times_display.offline_slow_hashing_1e4_per_second}`;\n    message += ' <small><span class=\"has-text-grey-light tooltip is-tooltip-multiline is-dotted-underlined\" data-tooltip=\"This is the time it would take an attacker to successfully guess your password. Increase your password complexity until you\\'re comfortable with the amount of time.\">What is this?</i></small>';\n    strength.innerHTML = message;\n\n    warning.innerHTML = `<br/>${z.feedback.warning}`;\n\n    let color;\n    switch (z.score) {\n      case 0:\n        color = 'is-danger';\n        break;\n      case 1:\n        color = 'is-danger';\n        break;\n      case 2:\n        color = 'is-warning';\n        break;\n      case 3:\n        color = 'is-warning';\n        break;\n      case 4:\n        color = 'is-success';\n        break;\n    }\n\n    progress.classList.remove('is-danger');\n    progress.classList.remove('is-warning');\n    progress.classList.remove('is-success');\n    progress.classList.add(color);\n  }\n\n  document.getElementById('password').addEventListener('input', () => passwordStrength(this));\n})();\n"]}