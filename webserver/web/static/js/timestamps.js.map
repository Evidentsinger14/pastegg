{"version":3,"sources":["../../src/js/timestamps.js"],"names":["updateTime","elem","ts","dataset","timestamp","undefined","m","moment","utc","local","innerHTML","fromNow","title","format","updateAllTimes","document","getElementsByClassName","navigator","languages","locale","setInterval"],"mappings":";;AAAA;;AAEA,CAAC,YAAW;AACV,WAASA,UAAT,CAAoBC,IAApB,EAA0B;AACxB,QAAMC,KAAKD,KAAKE,OAAL,CAAaC,SAAxB;AACA,QAAIF,OAAOG,SAAX,EAAsB;AACpB;AACD;;AAED,QAAMC,IAAIC,OAAOC,GAAP,CAAWN,EAAX,EAAeO,KAAf,EAAV;;AAEAR,SAAKS,SAAL,GAAiBJ,EAAEK,OAAF,EAAjB;AACAV,SAAKW,KAAL,GAAaN,EAAEO,MAAF,CAAS,KAAT,CAAb;AACD;;AAED,WAASC,cAAT,GAA0B;AAAA;AAAA;AAAA;;AAAA;AACxB,2BAAiBC,SAASC,sBAAT,CAAgC,WAAhC,CAAjB,8HAA+D;AAAA,YAApDd,EAAoD;;AAC7DF,mBAAWE,EAAX;AACD;AAHuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIzB;;AAED,GAAC,YAAW;AACV,QAAIe,UAAUC,SAAd,EAAyB;AACvBX,aAAOY,MAAP,CAAcF,UAAUC,SAAxB;AACD;;AAEDJ;;AAEAM,gBAAYN,cAAZ,EAA4B,KAAK,IAAjC;AACD,GARD;AASD,CA5BD","file":"timestamps.js","sourcesContent":["/* global moment */\n\n(function() {\n  function updateTime(elem) {\n    const ts = elem.dataset.timestamp;\n    if (ts === undefined) {\n      return;\n    }\n\n    const m = moment.utc(ts).local();\n\n    elem.innerHTML = m.fromNow();\n    elem.title = m.format('LLL');\n  }\n\n  function updateAllTimes() {\n    for (const ts of document.getElementsByClassName('timestamp')) {\n      updateTime(ts);\n    }\n  }\n\n  (function() {\n    if (navigator.languages) {\n      moment.locale(navigator.languages);\n    }\n\n    updateAllTimes();\n\n    setInterval(updateAllTimes, 60 * 1000);\n  })();\n})();\n"]}